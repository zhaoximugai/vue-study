{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/patchAttr.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../../runtime-core/src/index.ts", "../src/index.ts"],
  "sourcesContent": ["/**\r\n * \u8282\u70B9\u64CD\u4F5C\u96C6\u5408\r\n */\r\nexport const nodeOps = {\r\n    insert: (el, parent, anchor) => parent.insertBefore(el, anchor||null), // \u63D2\u5165\u8282\u70B9\u5230\u7236\u8282\u70B9\u4E2D\u6307\u5B9A\u4F4D\u7F6E\r\n    remove: el => el.parentNode?.removeChild(el), // \u4ECE\u7236\u8282\u70B9\u4E2D\u79FB\u9664\u8282\u70B9\r\n    createElement: type => document.createElement(type), // \u521B\u5EFA\u5143\u7D20\u8282\u70B9\r\n    createText: text => document.createTextNode(text), // \u521B\u5EFA\u6587\u672C\u8282\u70B9\r\n    setText: (node, text) => (node.nodeValue = text), // \u8BBE\u7F6E\u8282\u70B9\u7684\u6587\u672C\u5185\u5BB9\r\n    setElementText: (el, text) => (el.textContent = text), // \u8BBE\u7F6E\u5143\u7D20\u7684\u6587\u672C\u5185\u5BB9\r\n    parentNode: node => node.parentNode, // \u83B7\u53D6\u8282\u70B9\u7684\u7236\u8282\u70B9\r\n    nextSibling: node => node.nextSibling, // \u83B7\u53D6\u8282\u70B9\u7684\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9\r\n};\r\n", "\r\nexport default function patchAttr(el, key, value) {\r\n    if (value) {\r\n        el.removeAttribute(key)\r\n    } else {\r\n        el.setAttribute(key, value)\r\n    }\r\n}", "export default function patchClass(el,value) {\r\n    if(value === null){\r\n        //\u79FB\u9664class\r\n        el.removeAttribute('class')\r\n    }else{\r\n        //\u6DFB\u52A0class\r\n        el.setAttribute('class',value)\r\n    }\r\n}", "\r\nfunction createInvoker(value) {\r\n    const invoker = () => invoker.value()\r\n    invoker.value = value; //\u5C06value\u5B58\u50A8\u5728invoker\u4E0A\uFF0C\u65B9\u4FBF\u540E\u7EED\u8C03\u7528\r\n    return invoker; //\u8FD4\u56DEinvoker\u51FD\u6570\r\n}\r\nexport default function patchEvent(el, name, nextValue) {\r\n    const invokers = el._vei || (el._vei = {}); //\u786E\u4FDDel\u4E0A\u6709_vei\u5C5E\u6027\r\n\r\n    const eventName  = name.slice(2).toLowerCase(); //\u53BB\u9664on\u524D\u7F00\u5E76\u8F6C\u4E3A\u5C0F\u5199\r\n\r\n    const prevInvoker = invokers[name]; //\u83B7\u53D6\u4E4B\u524D\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\r\n    if (prevInvoker && nextValue) {\r\n        //\u5982\u679C\u4E4B\u524D\u6709\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\r\n        return prevInvoker.value = nextValue; //\u66F4\u65B0\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u7684\u503C\r\n    }\r\n\r\n    if (nextValue) {\r\n        const invoker = invokers[name] = createInvoker(nextValue);//\u521B\u5EFA\u5E94\u8BE5\u8C03\u7528\u51FD\u6570\uFF0C\u5185\u90E8\u4F1A\u6267\u884CnextValue\r\n        return el.addEventListener(eventName , invoker); //\u6DFB\u52A0\u4E8B\u4EF6\u76D1\u542C\r\n    }\r\n    if (prevInvoker) {\r\n        //\u5982\u679C\u4E4B\u524D\u6709\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4F46\u73B0\u5728\u6CA1\u6709\u4E86\r\n        el.removeEventListener(eventName , prevInvoker); //\u79FB\u9664\u4E8B\u4EF6\u76D1\u542C\r\n        invokers[name] = undefined; //\u6E05\u9664\u4E4B\u524D\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\r\n    }\r\n}", "export default function patchStyle(el, prevValue, nextValue) {\r\n    let style=el.style;\r\n    //\u5E94\u7528\u65B0\u6837\u5F0F\r\n    for(let key in nextValue){\r\n        style[key]=nextValue[key]\r\n    }\r\n    //\u79FB\u9664\u65E7\u6837\u5F0F\r\n    if(prevValue){\r\n        for(let key in prevValue){\r\n            if(!nextValue || nextValue[key]===undefined){\r\n                style[key]=null\r\n            }\r\n        }\r\n    }\r\n    \r\n}", "import patchAttr from \"./modules/patchAttr\";\r\nimport patchClass from \"./modules/patchClass\";\r\nimport patchEvent from \"./modules/patchEvent\";\r\nimport patchStyle from \"./modules/patchStyle\";\r\n\r\n\r\n//\u4E3B\u8981\u662F\u5BF9\u8282\u70B9\u5143\u7D20\u7684\u64CD\u4F5C class style event \u666E\u901A\u5C5E\u6027\r\n\r\n\r\n//diff\r\nexport default function patchProp(el, key, prevValue, nextValue) {\r\n\r\n    if (key === 'class') {\r\n        return patchClass(el, nextValue)\r\n    } else if (key === 'style') {\r\n        //\u5904\u7406style\r\n        return patchStyle(el, prevValue, nextValue)\r\n    } else if (/^on[^a-z]/.test(key)) {\r\n        //\u5904\u7406\u4E8B\u4EF6\r\n        return patchEvent(el, key, nextValue)\r\n    } else {\r\n        return patchAttr(el, key, nextValue)\r\n    }\r\n}\r\n", "import { ShapeFlags } from \"@vue/shared\";\r\n\r\nexport function createRenderer(renderOptions) {\r\n    const {\r\n        insert: hostInsert,\r\n        remove: hostRemove,\r\n        createElement: hostCreateElement,\r\n        createText: hostCreateText,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n        parentNode: hostParentNode,\r\n        nextSibling: hostNextSibling,\r\n        patchProp: hostPatchProp\r\n    } = renderOptions;\r\n\r\n    const mountChildren = (children, container) => {\r\n        for (let i = 0; i < children.length; i++) {\r\n            patch(null, children[i], container);\r\n        }\r\n    }\r\n\r\n    //\u6302\u8F7D\u5143\u7D20\r\n    const mountElement = (vnode, container) => {\r\n        const { type, props, children, shapeFlag } = vnode;\r\n        //\u521B\u5EFA\u5143\u7D20\r\n        const el = hostCreateElement(type);\r\n        //\u8BBE\u7F6E\u5C5E\u6027\r\n        for (const key in props) {\r\n            hostPatchProp(el, key, null, props[key]);\r\n        }\r\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            hostSetElementText(el, children);\r\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n            //\u5982\u679C\u662F\u6570\u7EC4\u7C7B\u578B\u7684\u5B50\u5143\u7D20\r\n            mountChildren(children, el);\r\n        }\r\n        //\u5C06\u5143\u7D20\u63D2\u5165\u5230\u5BB9\u5668\u4E2D\r\n        hostInsert(el, container);\r\n        //\u63D2\u5165\u5143\u7D20\r\n        hostInsert(el, container);\r\n\r\n    }\r\n\r\n    //\u6E32\u67D3\u548C\u66F4\u65B0\u5143\u7D20\r\n    const patch = (n1, n2, container) => {\r\n        if (n1 === n2) {\r\n            return;\r\n        }\r\n        if (n1 == null) {\r\n            //\u5982\u679Cn1\u662F\u7A7A\u7684\uFF0C\u8BF4\u660E\u662F\u521D\u6B21\u6E32\u67D3\r\n            mountElement(n2, container);\r\n        }\r\n    }\r\n\r\n    const render = (vnode, container) => {\r\n        //\u5C06\u865A\u62DF\u8282\u70B9\u53D8\u6210\u771F\u5B9E\u8282\u70B9\r\n        patch(container._vnode || null, vnode, container);\r\n        container._vnode = vnode;\r\n    }\r\n    return {\r\n        render\r\n    }\r\n}", "import {nodeOps} from './nodeOps';\r\nimport patchProp from './patchProp';\r\n\r\nimport {createRenderer} from '@vue/runtime-core';\r\n//\u5C06\u8282\u70B9\u5C5E\u6027\u548C\u64CD\u4F5C\u96C6\u5408\u5408\u5E76\u5230\u4E00\u4E2A\u5BF9\u8C61\u4E2D\r\n// \u8FD9\u6837\u53EF\u4EE5\u5728\u521B\u5EFA\u6E32\u67D3\u5668\u65F6\u4F7F\u7528\u8FD9\u4E9B\u64CD\u4F5C\u548C\u5C5E\u6027\r\nconst renderOptions=Object.assign( {patchProp},nodeOps)\r\n\r\n\r\nexport  {renderOptions};\r\n\r\nexport const render=(vnode,container)=>{\r\n    return createRenderer(renderOptions).render(vnode,container);\r\n}\r\n\r\nexport * from '@vue/runtime-core';\r\n"],
  "mappings": "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",
  "names": ["renderOptions", "render"]
}
